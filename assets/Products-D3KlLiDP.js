import{j as s,R as b,r as p,u as S,P as T}from"./index-nsV1Whp_.js";import{t as y,H as F}from"./Helmet-DXrvendf.js";import{u as P,T as I}from"./useActions-CHdHjfIp.js";const O=({title:a,type:m,startGuarantee:r,endGuarantee:d,price:l,id:u,img:x,serialNumber:_,orderTitle:c})=>s.jsx("div",{id:u.toString(),className:"product-item",children:s.jsxs("div",{className:"product-item__body",children:[s.jsx("div",{className:"product-item__info",children:s.jsx("img",{className:"product-item__photo",src:x,alt:"product photo"})}),s.jsxs("div",{className:"product-item__info product-item__name",children:[s.jsx("div",{className:"product-item__underline",children:a}),s.jsx("div",{className:"product-item__serialNumber",children:_})]}),s.jsx("div",{className:"product-item__info",children:m!==void 0&&m}),s.jsx("div",{className:"product-item__info",children:s.jsx("div",{className:"product-item__underline",children:c})}),s.jsxs("div",{className:"product-item__info product-item__guarante",children:[s.jsxs("div",{className:"product-item__guarante-wrapper",children:[s.jsx("span",{className:"product-item__smallItem",children:"c "}),s.jsx("span",{children:r})]}),s.jsxs("div",{className:"product-item__guarante-wrapper",children:[s.jsx("span",{className:"product-item__smallItem",children:"по "}),s.jsx("span",{children:d})]})]}),s.jsx("div",{className:"product-item__info product-item__currency",children:l!==void 0&&l.length>0&&l.map(({value:j,symbol:h},e)=>s.jsx(b.Fragment,{children:s.jsx("span",{className:h==="USD"?"product-item__smallItem":"",children:j+" "+h})},e))})]})}),w=({options:a,onSelect:m})=>{const[r,d]=p.useState(!1),[l,u]=p.useState(null),x=()=>{d(!r)},_=c=>{u(c),d(!1),m(c)};return s.jsxs("div",{className:"custom-select",children:[s.jsxs("div",{className:"select-header",onClick:x,children:[l?l.label:"Select an option",s.jsx("span",{className:`arrow ${r?"open":""}`,children:"▼"})]}),r&&s.jsx("div",{className:"options",children:a.map(c=>s.jsx("div",{className:`option ${l===c?"selected":""}`,onClick:()=>_(c),children:c.label},c.value))})]})},A=[{value:"All",label:"Все"},{value:"Monitors",label:"Мониторы"},{value:"Phones",label:"Телефоны"}],E=()=>{const{products:a,isLoading:m}=S(e=>e.products),{orders:r}=S(e=>e.orders),{getProducts:d}=P(),{getOrders:l}=P(),[u,x]=p.useState([]),[_,c]=p.useState(!1);p.useEffect(()=>{d(),l()},[d,l]);const j=p.useMemo(()=>e=>{const i=r.find(n=>n.id===e);return i?i.title:"Unknown Order"},[r]),h=e=>{if(e==="All")c(!1);else{c(!0);const i=a.filter(n=>n.type===e);x(i)}};return s.jsxs(s.Fragment,{children:[s.jsx(w,{options:A,onSelect:e=>h(e.value)}),m?s.jsx(T,{}):s.jsx("div",{className:"products__wrapper",children:_?u.map(({id:e,title:i,type:n,guarantee:t,price:v,photo:N,serialNumber:f,order:o})=>s.jsx(O,{serialNumber:f,img:N,type:n,id:e,title:i,startGuarantee:t==null?void 0:t.start,endGuarantee:t==null?void 0:t.end,price:v||[],orderTitle:j(o==null?void 0:o.toString())},e)):a.map(({id:e,title:i,type:n,guarantee:t,price:v,photo:N,serialNumber:f,order:o})=>s.jsx(O,{serialNumber:f,img:N,type:n,id:e,title:i,startGuarantee:t==null?void 0:t.start,endGuarantee:t==null?void 0:t.end,price:v||[],orderTitle:j(o==null?void 0:o.toString())},e))})]})},G=()=>s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsx("title",{children:"Products"})}),s.jsx("section",{className:"products",children:s.jsxs("div",{className:"products__body",children:[s.jsx(I,{text:"Продукты"}),s.jsx(E,{})]})})]}),$=y(G);export{$ as default};
